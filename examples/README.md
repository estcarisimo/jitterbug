# Jitterbug Examples

This directory contains comprehensive examples demonstrating how to use Jitterbug 2.0 for network congestion analysis.

## Available Examples

### 1. Network Analysis Example (`network_analysis/`)

A complete example using real network measurement data:

- **Dataset**: 47,164 RTT measurements from network monitoring
- **Format**: CSV with epoch timestamps and RTT values
- **Use cases**: Basic analysis, visualization, API usage
- **Expected results**: Reference outputs from original research

**Quick Start:**
```bash
# Basic analysis
jitterbug analyze examples/network_analysis/data/raw.csv

# With visualization (requires: pip install jitterbug[visualization])
jitterbug visualize examples/network_analysis/data/raw.csv --output-dir report

# Run the Python example
cd examples/network_analysis
python basic_analysis.py
```

See `network_analysis/README.md` for detailed documentation.

## Example Structure

```
examples/
├── README.md                    # This file
└── network_analysis/
    ├── README.md               # Detailed example documentation
    ├── basic_analysis.py       # Python API example script
    ├── data/
    │   ├── raw.csv            # Raw RTT measurements (47K+ points)
    │   └── mins.csv           # Minimum RTT values (15-min intervals)
    ├── expected_results/
    │   ├── jd_inferences.csv  # Expected jitter dispersion results
    │   └── kstest_inferences.csv # Expected KS-test results
    └── results/               # Generated by examples (gitignored)
```

## Running Examples

### Command Line Interface

```bash
# Basic analysis with default settings
jitterbug analyze examples/network_analysis/data/raw.csv

# Custom configuration
jitterbug analyze examples/network_analysis/data/raw.csv \
  --algorithm ruptures \
  --method jitter_dispersion \
  --threshold 0.25 \
  --output results.json

# Data validation
jitterbug validate examples/network_analysis/data/raw.csv --verbose

# Generate configuration template
jitterbug config --template --output example_config.yaml
```

### Python API

```python
from jitterbug import JitterbugAnalyzer, JitterbugConfig

# Load and analyze data
analyzer = JitterbugAnalyzer(JitterbugConfig())
results = analyzer.analyze_from_file('examples/network_analysis/data/raw.csv')

# Process results
congested_periods = results.get_congested_periods()
summary = analyzer.get_summary_statistics(results)
```

### Docker Usage

```bash
# Start services
docker-compose up -d

# Run analysis
docker-compose run --rm jitterbug-cli analyze \
  /app/examples/network_analysis/data/raw.csv

# Generate visualizations
docker-compose run --rm jitterbug-cli visualize \
  /app/examples/network_analysis/data/raw.csv \
  --output-dir /app/output/plots
```

### REST API

```bash
# Start API server
python -m jitterbug.api.server

# Test with example data (requires preprocessing)
curl -X POST http://localhost:8000/api/v1/analyze \
  -H "Content-Type: application/json" \
  -d @examples/api_request.json
```

## Creating Your Own Examples

To create a new example:

1. Create a new directory under `examples/`
2. Add your data in a `data/` subdirectory
3. Include a `README.md` with:
   - Dataset description
   - Usage instructions
   - Expected results
4. Add example scripts demonstrating key features
5. Update this main examples README

## Data Format Requirements

Jitterbug expects CSV files with the following format:

```csv
epoch,values
1512144010.0,63.86
1512144020.0,85.2
1512144110.0,50.79
...
```

Where:
- `epoch` - Unix timestamp (seconds)
- `values` - RTT measurement in milliseconds

## Performance Expectations

For the network analysis example:
- **Dataset size**: 47,164 measurements
- **Analysis time**: 10-30 seconds
- **Memory usage**: ~100MB
- **Visualization time**: 1-2 minutes (if enabled)

## Getting Help

- Check the main README for installation instructions
- Review the example-specific README files
- Run `jitterbug --help` for CLI usage
- Visit the API documentation at `http://localhost:8000/docs` when running the server